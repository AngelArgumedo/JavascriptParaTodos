
# 5. Prototipos en JavaScript

## ¿Qué es un Prototipo?

En JavaScript, los prototipos son el mecanismo mediante el cual los objetos pueden heredar propiedades y métodos de otros objetos. Cada objeto en JavaScript tiene una propiedad interna llamada `[[Prototype]]`, que se refiere a otro objeto (su prototipo). A través de este mecanismo, un objeto puede acceder a propiedades y métodos definidos en su prototipo.

## ¿Por qué son importantes los Prototipos?

1. **Herencia**: Permiten que los objetos compartan métodos y propiedades, lo que ahorra memoria.
2. **Reutilización de Código**: Permiten que múltiples objetos usen el mismo método sin tener que duplicarlo en cada uno.
3. **Extensibilidad**: Podemos extender objetos existentes con nuevas propiedades y métodos.

---
Ejemplo Básico de Prototipos en JavaScript:

```javascript
function Persona(nombre, edad) {
  this.nombre = nombre;
  this.edad = edad;
}

// Agregar un método al prototipo de Persona
Persona.prototype.saludar = function() {
  console.log(`Hola, me llamo ${this.nombre} y tengo ${this.edad} años.`);
};

const persona1 = new Persona("Juan", 28);
persona1.saludar(); // Salida: Hola, me llamo Juan y tengo 28 años.
```
En el ejemplo anterior, `saludar` es un método definido en el prototipo de `Persona`, por lo que cualquier instancia de `Persona` puede acceder a este método.

---

### ¿Cómo funciona la Cadena de Prototipos?

Si intentas acceder a una propiedad o método que no existe en un objeto, JavaScript buscará esa propiedad en el prototipo del objeto, y luego en el prototipo del prototipo, y así sucesivamente. Este proceso se llama cadena de prototipos.

```javascript
console.log(persona1.toString()); 
// `toString` no está definido en `persona1` ni en `Persona.prototype`, pero existe en `Object.prototype`
```

---
### Sintaxis Moderna con Clases

Aunque el sistema de prototipos sigue siendo la base, la introducción de las clases en ECMAScript 6 (ES6) proporciona una forma más clara y estructurada de trabajar con la herencia en JavaScript. Internamente, las clases siguen utilizando prototipos.

Ejemplo Usando Clases:

```javascript
class Animal {
  constructor(nombre) {
    this.nombre = nombre;
  }

  hacerSonido() {
    console.log(`${this.nombre} está haciendo un sonido.`);
  }
}

class Perro extends Animal {
  hacerSonido() {
    console.log(`${this.nombre} dice: ¡Guau guau!`);
  }
}

const miPerro = new Perro("Rex");
miPerro.hacerSonido(); // Salida: Rex dice: ¡Guau guau!
```
---
>[!NOTE]
> Propiedades y Métodos Prototipales vs. Propiedades y Métodos de Instancia
> - Propiedades de Instancia: Definidas directamente en el objeto, únicas para cada instancia.
> - Métodos Prototipales: Definidos en el prototipo, compartidos por todas las instancias.

Ejemplo Comparativo:

```javascript
function Coche(marca) {
  this.marca = marca; // Propiedad de instancia
}

Coche.prototype.arrancar = function() { // Método prototipal
  console.log(`El coche ${this.marca} está arrancando.`);
};

const coche1 = new Coche("Toyota");
const coche2 = new Coche("Honda");

coche1.arrancar(); // Salida: El coche Toyota está arrancando.
coche2.arrancar(); // Salida: El coche Honda está arrancando.
```

---

### Representación Gráfica de la Herencia Prototipal

```plaintext

+---------------------+
|      Persona        |
+---------------------+
| - nombre            |  <--- Propiedades de instancia
| - edad              |
+---------------------+
| [[Prototype]]       |  <--- Referencia al prototipo
| + saludar()         |  <--- Método prototipal
+---------------------+

```

---

> [!TIP]
> Los prototipos son una característica poderosa en JavaScript que permite la reutilización del código y la herencia. Aunque las clases han introducido una forma más moderna de trabajar con estos conceptos, entender el sistema de prototipos sigue siendo clave para dominar el lenguaje.

---

**[↩️ Regresar al índice](../README.md)**
