
# 3. Encapsulamiento en Programación Orientada a Objetos

## ¿Qué es el Encapsulamiento?

El encapsulamiento es uno de los pilares fundamentales de la Programación Orientada a Objetos (POO). Se refiere al concepto de agrupar datos (atributos) y métodos (funciones) que operan sobre esos datos en una sola unidad llamada clase. Además, restringe el acceso directo a algunos de los componentes de un objeto, lo que protege los datos y asegura que solo se puedan modificar de maneras controladas.

## Beneficios del Encapsulamiento

1. **Protección de Datos**: Evita que datos sensibles sean accedidos directamente desde fuera de la clase.
2. **Reutilización de Código**: Las clases encapsuladas pueden ser reutilizadas sin preocuparse por sus detalles internos.
3. **Control de Acceso**: Permite definir métodos públicos para el acceso controlado y métodos privados para uso interno.

---

### Encapsulamiento en JavaScript

En JavaScript, se puede lograr el encapsulamiento utilizando variables privadas y métodos públicos. Las propiedades privadas se indican utilizando el prefijo `_` (convención) o utilizando `#` para una protección más estricta.

Ejemplo de Encapsulamiento en Javascript:

```javascript
class CuentaBancaria {
  constructor(titular, saldo) {
    this.titular = titular;
    let _saldo = saldo;  // Variable privada

    this.depositar = function (cantidad) {
      if (cantidad > 0) _saldo += cantidad;
    };

    this.retirar = function (cantidad) {
      if (cantidad <= _saldo) {
        _saldo -= cantidad;
      } else {
        console.log("Fondos insuficientes");
      }
    };

    this.obtenerSaldo = function () {
      return _saldo;
    };
  }
}

const miCuenta = new CuentaBancaria("Armando", 1000);
miCuenta.depositar(500);
console.log(miCuenta.obtenerSaldo()); // Salida: 1500
miCuenta.retirar(2000); // Salida: Fondos insuficientes
```
---

### Encapsulamiento Moderno con Campos Privados

A partir de ECMAScript 2020, se pueden definir propiedades privadas usando el símbolo `#`:

```javascript
class Usuario {
  #password;

  constructor(nombre, password) {
    this.nombre = nombre;
    this.#password = password;  // Campo privado
  }

  validarPassword(password) {
    return this.#password === password;
  }
}

const usuario = new Usuario("Armando", "1234");
console.log(usuario.validarPassword("1234")); // Salida: true
console.log(usuario.#password); // Error: No se puede acceder al campo privado fuera de la clase
```
En este ejemplo, `#password` es un campo privado que no se puede acceder directamente desde fuera de la clase, asegurando que los datos estén protegidos.

---

### Representación gráfica del Encapsulamiento

```plaintext

+-------------------------+
|      CuentaBancaria     |
+-------------------------+
| - _saldo                |  <--- Propiedad privada
| + titular               |
+-------------------------+
| + depositar()           |  <--- Métodos públicos
| + retirar()             |
| + obtenerSaldo()        |
+-------------------------+

```

En el diagrama, `_saldo` es un atributo privado, mientras que los métodos `depositar`, `retirar` y `obtenerSaldo` son públicos. Solo se puede interactuar con `_saldo` mediante estos métodos, garantizando su integridad.

---

## Conclusión

El encapsulamiento es esencial para construir sistemas seguros y modulares. Al proteger los datos y permitir el acceso controlado a través de métodos públicos, se logra una mejor organización del código, facilitando el mantenimiento y la reutilización.

---

**[↩️ Regresar al índice](../README.md)**